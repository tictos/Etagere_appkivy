<ToCard>:
    elevation: 2
    md_bg_color: 1, 1, 1, 1
    radius: [8]
    size_hint_y: .1
    spacing: 10
    
    MDFloatLayout:
        id: bar
        size_hint: .01, .9
        pos_hint: {"center_x": .02, "center_y": .5}
        md_bg_color: (1, 170/255, 23/255, 1) if root.production < root.diff else (0, 179/255, 0, 1)

    MDLabel:
        id: date
        text: "date: " + str(root.date)
        markup: True
        font_name: "Poppins-SemiBold.ttf"
        font_size: "16sp"
        size_hint_x: .8
        pos_hint: {"center_x": .46, "center_y": .8}

    MDLabel:
        id: rt_previous
        text:  "RP: " + str(root.rt_previous) + " GNF"
        font_size: "15sp"
        pos_hint: {"center_x": 1, "center_y": .8}
        
    MDLabel:
        id: description
        text: "depenses: " + str(root.depenses) + " F GNF"
        font_name: "Poppins-Regular.ttf"
        font_size: "10sp"
        color: 1, 170/255, 23/255, 1
        markup: True
        size_hint_x: .9
        line_height: .8
        pos_hint: {"center_x": .51, "center_y": .3}

    MDLabel:
       
        text: "Gains: " + str(root.diff) + " F GNF"
        font_name: "Poppins-Regular.ttf"
        font_size: "13sp"
        color: 0, 179/255, 0, 1
        markup: True
        bold: True
        size_hint_x: .9
        line_height: .8
        pos_hint: {"center_x": 1, "center_y": .3}

<DetailScreen>:

    MDIconButton:
        icon: "arrow-left"
        pos_hint: {'center_y': .96}
        on_release: app.back()

    MDFloatLayout:
        md_bg_color: 0, 0, 0, .3
        size_hint_y: .3
        pos_hint: {'top': 1}
        
        MDLabel:
            id: name
            text: root.nom
            bold: True
            font_size: 25
            pos_hint: {'center_y': .65}
            halign: "center"

        MDLabel:
            id: capital
            text: "capital: " + str(root.capital) + " GNF"
            bold: True
            font_size: 25
            pos_hint: {'center_y': .33, 'x': .03}

        MDLabel:
            id: date_creation
            text: "date de création: " + root.date_creation
            bold: True
            font_size: 25
            pos_hint: {'center_y': .15}
            halign: "right"

    MDFloatLayout:
        size_hint_y: None
        height: 70
        pos_hint: {'top': .7}
        md_bg_color: 0, 0, 0, .4

        MDLabel:
            text: "Activités"
            bold: True
            pos_hint: {'x': .1 , 'center_y': .5}
            
        
        MDIconButton:
            icon: "plus"
            pos_hint: {'center_y': .5, "center_x": .9}
            md_bg_color: 0, 179/255, 0, 1
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1 
            on_press: app.add_act_newpage()
Screen:
    name: "detail"
    # todo_list: todo_list

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "detail_img.jpg"
    
    DetailScreen:
        id: detail_page

    ScrollView:
        do_scroll_y: True
        md_bg_color: 0, 0, 0, .8
        size_hint_y: .58
        
        GridLayout:
            id: todo_list
            cols: 1
            height: self.minimum_height
            row_default_height: 80
            size_hint_y: None           
            padding: 15, 10
            spacing: 15, 10

            
                
    
    # MDRoundFlatButton:
    #     text: "back"
    #     text_color: 0, 1, 0, 1
    #     size_hint: None, None
    #     pos_hint: {"center_x": .35, "center_y": .15}
    #     size: (100, 190)
    #     on_release: app.back()
